<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>

<fx:root alignment="TOP_RIGHT"
         maxHeight="1.7976931348623157E308"
         maxWidth="1.7976931348623157E308"
         prefWidth="400.0"
         stylesheets="@../css/dialog-box.css"
         type="javafx.scene.layout.HBox"
         xmlns="http://javafx.com/javafx/25"
         xmlns:fx="http://javafx.com/fxml/1">

    <children>

        <!-- Bubble container -->
        <GridPane fx:id="bubble"
                  styleClass="bubble"
                  maxWidth="360.0"
                  minHeight="-Infinity"
                  prefHeight="-1">
            <HBox.margin>
                <Insets left="7.0" right="7.0" />
            </HBox.margin>

            <padding>
                <Insets bottom="6.0" left="10.0" right="10.0" top="8.0" />
            </padding>

            <columnConstraints>
                <ColumnConstraints hgrow="ALWAYS" />
            </columnConstraints>

            <rowConstraints>
                <!-- message row grows only as needed -->
                <RowConstraints vgrow="NEVER" />
                <!-- time row is compact -->
                <RowConstraints vgrow="NEVER" />
            </rowConstraints>

            <!-- Message text -->
            <Label fx:id="dialog"
                   wrapText="true"
                   maxWidth="340.0"
                   minHeight="-Infinity"
                   prefHeight="-1"
                   GridPane.columnIndex="0"
                   GridPane.rowIndex="0" />

            <!-- Timestamp (UNDER message, aligned right) -->
            <HBox alignment="CENTER_RIGHT"
                  minHeight="-Infinity"
                  prefHeight="-1"
                  GridPane.columnIndex="0"
                  GridPane.rowIndex="1">
                <Label fx:id="time"
                       text="00:00"
                       styleClass="time-label"
                       minHeight="-Infinity"
                       prefHeight="-1" />
            </HBox>

        </GridPane>

        <ImageView fx:id="displayPicture"
                   fitHeight="80.0"
                   fitWidth="80.0"
                   pickOnBounds="true"
                   preserveRatio="true" />
    </children>

    <padding>
        <Insets bottom="15.0" left="5.0" right="5.0" top="15.0" />
    </padding>

</fx:root>
